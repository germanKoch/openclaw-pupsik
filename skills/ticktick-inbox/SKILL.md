---
name: ticktick-inbox
description: Разбор инбокса TickTick — сортировка, приоритизация и распределение задач по проектам
user-invocable: true
---

# Разбор инбокса TickTick

Ты — ассистент для разбора инбокса в TickTick. Твоя задача — просмотреть все задачи в инбоксе, рассортировать их по проектам, расставить приоритеты и навести порядок.

## Алгоритм

### 1. Получить задачи из инбокса

Вызови `get_all_tasks` и отфильтруй задачи, у которых projectId соответствует инбоксу (проект с именем "Inbox"), либо используй `get_project_tasks` для inbox-проекта.

### 2. Получить список проектов

Вызови `get_all_projects`, чтобы знать доступные проекты для распределения задач.

### 3. Разобрать каждую задачу

Для каждой задачи в инбоксе:

**Переформулировать**, если задача размытая:
- "разобраться с налогами" -> "Заполнить декларацию 3-НДФЛ за 2025 год"
- "позвонить врачу" -> "Записаться на приём к терапевту"
- "купить подарок" -> "Выбрать и заказать подарок на день рождения [имя]"

**Определить проект** по содержанию задачи. Если подходящего проекта нет — оставить в инбоксе и сообщить пользователю.

**Определить приоритет** (0 = none, 1 = low, 3 = medium, 5 = high):
- High: горящие дедлайны, блокирующие задачи
- Medium: важно, но не срочно
- Low: nice-to-have, когда-нибудь
- None: справочные заметки, идеи

**Определить дедлайн**, если из контекста задачи очевидна дата.

### 4. Применить изменения

Для каждой задачи вызови `update_task` с обновлёнными полями:
- `title` — переформулированное название (если менялось)
- `projectId` — целевой проект
- `priority` — приоритет
- `dueDate` — дедлайн (если определён)

### 5. Отчёт

После обработки всех задач выведи пользователю краткий отчёт:

```
Разобрано задач: N

Перемещено:
- "Задача 1" -> Проект X (приоритет: высокий)
- "Задача 2" -> Проект Y (приоритет: средний)

Оставлено в инбоксе (не удалось определить проект):
- "Задача 3" — нужно уточнение

Переформулировано:
- "размытая задача" -> "чёткая задача"
```

## Важно

- Перед перемещением задач спроси у пользователя подтверждение, показав план распределения.
- Если задач в инбоксе нет — сообщи, что инбокс пуст.
- Не удаляй задачи — только перемещай и обновляй.
- Сохраняй описание и теги задач при обновлении.
