---
name: tennis-booking
description: Бронирование теннисного корта в клубе Т14 через Tallanto API
user-invocable: true
---

# Бронирование теннисного корта

Управление бронированием кортов в теннисном клубе Т14: просмотр свободных слотов, запись, отмена и просмотр текущих бронирований.

## Алгоритм

### Фаза 1: Определение намерения

Определи, что хочет пользователь:

1. **Просмотр свободных слотов** — ключевые слова: «свободные», «расписание», «слоты», «когда можно», «покажи»
2. **Бронирование** — ключевые слова: «запиши», «забронируй», «хочу на», «записаться»
3. **Отмена** — ключевые слова: «отмени», «удали запись», «не пойду»
4. **Просмотр моих записей** — ключевые слова: «мои записи», «на что записан», «что у меня»

Если намерение неясно — спроси.

### Фаза 2: Выполнение

#### Просмотр слотов

1. Вызови `list_available_slots` с параметрами из запроса (дата, количество дней)
2. Покажи результат пользователю в удобном формате
3. Если пользователь хочет записаться — перейди к бронированию

#### Бронирование (ТРЕБУЕТ ПОДТВЕРЖДЕНИЯ)

1. Если нет slot_id — сначала покажи свободные слоты (`list_available_slots`)
2. Помоги пользователю выбрать слот
3. **⚠️ ОБЯЗАТЕЛЬНО покажи детали и спроси подтверждение:**
   ```
   Бронирую:
     Дата: [дата]
     Время: [время]
     Корт: [корт]

   Подтвердить? (да/нет)
   ```
4. **Только после явного подтверждения** вызови `book_court` с выбранным slot_id
5. Сообщи результат

#### Отмена (ТРЕБУЕТ ПОДТВЕРЖДЕНИЯ)

1. Если нет booking_id — покажи текущие записи (`get_my_bookings`)
2. Помоги пользователю выбрать запись для отмены
3. **⚠️ ОБЯЗАТЕЛЬНО покажи детали и спроси подтверждение:**
   ```
   Отменяю бронирование:
     ID: [id]
     Дата: [дата]
     Время: [время]
     Корт: [корт]

   Подтвердить отмену? (да/нет)
   ```
4. **Только после явного подтверждения** вызови `cancel_booking` с booking_id
5. Сообщи результат

#### Просмотр моих записей

1. Вызови `get_my_bookings`
2. Покажи результат пользователю

## Правила

- **Никогда** не бронируй и не отменяй без явного подтверждения пользователя
- При ошибках API — сообщи пользователю и предложи попробовать позже
- Используй русский язык для общения
- Даты и время показывай в формате, привычном для пользователя (день недели, дата, время)
